# UI 錯誤日誌查詢功能

## 🎯 功能說明

現在當 API 呼叫失敗時，錯誤資訊會直接顯示在 UI 的 Activity Log 面板中，並且可以點擊展開查看完整的錯誤詳情。

## 📋 使用方式

### 1. 查看錯誤列表
- 所有錯誤會顯示在右側的 **Activity Log** 面板中
- 錯誤項目會有紅色的左側邊框標示
- 帶有 **▼** 符號的項目表示有詳細資訊可查看

### 2. 展開錯誤詳情
- **點擊**帶有 ▼ 符號的錯誤項目
- 詳情區域會展開，顯示完整的 API 呼叫資訊
- 再次點擊可以收起詳情

### 3. 錯誤詳情包含

#### HTTP 錯誤 (4xx/5xx)
```
錯誤類型: http_error
請求方法: GET / PATCH
請求 URL: https://notify.try-8verything.com/api/...
請求 Body: {...}  (僅 PATCH)
響應狀態: HTTP 401 Unauthorized
響應內容: {"success": false, "message": "..."}
耗時: 123ms
時間戳: 2025-12-30 10:30:45
```

#### 完整 JSON
- 點擊 **"完整 JSON"** 可展開查看原始 JSON 格式的錯誤資料
- 包含所有請求和響應的 headers 資訊

## 🎨 視覺特徵

### 錯誤項目
- **紅色左側邊框**: 標示錯誤類型
- **可點擊標題**: 有 ▼ 符號，點擊展開/收起
- **時間戳記**: 右上角顯示發生時間

### 詳情面板
- **深色背景**: 易於區分詳情區域
- **語法高亮**: 
  - 🔵 藍色: 欄位名稱
  - 🟡 黃色: URL 和代碼
  - 🔴 紅色: HTTP 狀態碼
- **程式碼區塊**: 
  - JSON 格式化顯示
  - 可滾動查看長內容

## 📊 錯誤類型

1. **http_error**: HTTP 狀態碼錯誤 (401, 404, 500 等)
2. **api_failure**: API 返回 success=false
3. **network_error**: 網路連線失敗
4. **timeout**: 請求逾時

## 🔒 安全性

- API Key 在 UI 中只顯示前 8 個字元 + `***`
- 完整錯誤資訊同時記錄在日誌檔案中 (`logs/` 目錄)

## 💡 使用技巧

1. **快速診斷**: 查看響應狀態碼和響應內容
2. **驗證請求**: 確認請求 URL 和參數是否正確
3. **追蹤時間**: 查看請求耗時，判斷是否為逾時問題
4. **複製資訊**: 從完整 JSON 中複製錯誤資訊用於報告

## 🚀 下次啟動

執行以下命令啟動應用程式：

```bash
./start.sh
```

現在當發生 API 錯誤時，您可以直接在 UI 上點擊錯誤項目查看完整的呼叫資訊！
